program
	= ?namespaceStatement *programStatement

namespaceStatement
	= "namspace" qualifiedName

programStatement
	= usingStatement
	| variableDefinition
	| functionDefinition
	| structDefinition
	| traitDefinition

usingStatement
	= "using" qualifiedName *("," ?"." qualifiedName)

qualifiedName
	= identifier *("." identifier)

variableDefinition
	= ?"pub" "var" identifier (type ?assignment | assignment)

assignment
	= "=" expression

type
	= tupleType
	| arrayType
	| pointerType
	| functionType
	| mutableType
	| basicType

tupleType
	= "(" *(type ",") *type ")"

arrayType
	= "[" ?expression "]" ?type

pointerType
	= "&" ?type

functionType
	= "func" ?functionParameterList ?type

functionParameterList
	= "(" *(functionParameter ",") ?functionParameter ")"

functionParameter
	= identifier type

mutableType
	= "mut" type

basicType
	= identifier *("." identifier) *genericArguments

genericArguments
	= "generic <" *(genericArgument ",") ?genericArgument ">"

genericArgument
	= type
	| expression
